"use strict";(self["webpackChunkvue_waimai"]=self["webpackChunkvue_waimai"]||[]).push([[918],{776:function(e,t,a){a.d(t,{A:function(){return v}});var n=a(641),i=a(33);const d={class:"header"};function o(e,t,a,o,c,l){const s=(0,n.g2)("van-icon");return(0,n.uX)(),(0,n.CE)("div",d,[(0,n.bF)(s,{name:"arrow-left",class:"icon",onClick:o.toBack},null,8,["onClick"]),(0,n.Lk)("div",null,(0,i.v_)(a.title),1),a.edit?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"edit",onClick:t[0]||(t[0]=(...e)=>o.handleEdit&&o.handleEdit(...e))},(0,i.v_)(o.store.state.edit?"编辑":"完成"),1)):(0,n.Q3)("",!0)])}var c=a(4249),l=a(5220),s=a(6278),r={props:["title","edit"],setup(){const e=(0,s.Pj)(),t=(0,l.rd)(),a=()=>{t.back()},n=()=>{e.state.cartList.length?(e.commit("edit"),e.commit("ChangeDelete")):c.y.fail("商品空空如也")};return{toBack:a,store:e,handleEdit:n}}},u=a(6262);const m=(0,u.A)(r,[["render",o],["__scopeId","data-v-276e82aa"]]);var v=m},7987:function(e,t,a){a.d(t,{A:function(){return k}});var n=a(641),i=a(33);const d={class:"content-item"},o={class:"left"},c=["src"],l={class:"text"},s={class:"title"},r={class:"price"};function u(e,t,a,u,m,v){const h=(0,n.g2)("van-checkbox"),k=(0,n.g2)("van-icon"),g=(0,n.g2)("van-stepper");return(0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("div",o,[a.showCheckBox?((0,n.uX)(),(0,n.Wv)(h,{key:0,name:a.item.id,"checked-color":"#ffc400"},null,8,["name"])):(0,n.Q3)("",!0),(0,n.Lk)("img",{src:a.item.pic},null,8,c),(0,n.Lk)("div",l,[(0,n.Lk)("div",s,(0,i.v_)(a.item.title),1),a.item.add?((0,n.uX)(),(0,n.Wv)(k,{key:0,name:"add-o",onClick:t[0]||(t[0]=e=>a.handleAdd(a.item.id))})):((0,n.uX)(),(0,n.Wv)(g,{key:1,modelValue:a.item.num,"onUpdate:modelValue":t[1]||(t[1]=e=>a.item.num=e),onChange:a.handleChange,name:a.item.id},null,8,["modelValue","onChange","name"]))])]),(0,n.Lk)("div",r," ￥"+(0,i.v_)(a.item.price),1)])}var m={props:["item","handleAdd","handleChange","showCheckBox"]},v=a(6262);const h=(0,v.A)(m,[["render",u],["__scopeId","data-v-79a37f9a"]]);var k=h},6918:function(e,t,a){a.r(t),a.d(t,{default:function(){return H}});var n=a(641),i=a(33);const d=e=>((0,n.Qi)("data-v-2f4c732c"),e=e(),(0,n.jt)(),e),o={class:"storeDetails"},c={class:"content"},l=d((()=>(0,n.Lk)("div",{class:"img"},null,-1))),s={class:"foodSort"},r={class:"name"},u=["src"];function m(e,t,a,d,m,v){const h=(0,n.g2)("Header"),k=(0,n.g2)("food-list"),g=(0,n.g2)("van-tab"),f=(0,n.g2)("van-tabs"),p=(0,n.g2)("van-action-bar-icon"),C=(0,n.g2)("van-action-bar-button"),b=(0,n.g2)("van-action-bar");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(h,{title:"店铺"}),(0,n.Lk)("div",c,[l,(0,n.Lk)("div",s,[(0,n.Lk)("div",r,[(0,n.eW)((0,i.v_)(e.title)+" ",1),(0,n.Lk)("img",{src:e.img,class:"store-img"},null,8,u)]),(0,n.bF)(f,{color:"#ffc400"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.storeData,((e,t)=>((0,n.uX)(),(0,n.Wv)(g,{title:e.name},{default:(0,n.k6)((()=>[(0,n.bF)(k,{index:t,foodData:e.data},null,8,["index","foodData"])])),_:2},1032,["title"])))),256))])),_:1})])]),(0,n.bF)(b,null,{default:(0,n.k6)((()=>[(0,n.bF)(p,{icon:"chat-o",text:"客服",dot:""}),(0,n.bF)(p,{icon:"cart-o",text:"购物车",badge:d.store.state.cartList.length,onClick:d.goCart},null,8,["badge","onClick"]),(0,n.bF)(C,{type:"warning",text:"加入购物车",onClick:d.handleAdd},null,8,["onClick"]),(0,n.bF)(C,{type:"danger",text:"立即购买",onClick:d.goBuy},null,8,["onClick"])])),_:1})])}a(4114);var v=a(953),h=a(776);const k={key:0,class:"food-list"},g={class:"item-bg"},f={key:1};function p(e,t,a,d,o,c){const l=(0,n.g2)("list-item"),s=(0,n.g2)("van-tree-select");return 0===a.index?((0,n.uX)(),(0,n.CE)("div",k,[(0,n.bF)(s,{"main-active-index":e.activeIndex,"onUpdate:mainActiveIndex":t[0]||(t[0]=t=>e.activeIndex=t),height:"88vw",items:e.items,onClickNav:d.navClick},{content:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.subItem,((t,a)=>((0,n.uX)(),(0,n.CE)("div",g,[(0,n.bF)(l,{item:t,handleAdd:d.handleAdd,handleChange:e.handleChange},null,8,["item","handleAdd","handleChange"])])))),256))])),_:1},8,["main-active-index","items","onClickNav"])])):((0,n.uX)(),(0,n.CE)("div",f,(0,i.v_)(a.foodData.content),1))}const C={class:"content-item"},b={class:"left"},_=["src"],x={class:"text"},A={class:"title"},L={class:"price"};function E(e,t,a,d,o,c){const l=(0,n.g2)("van-icon"),s=(0,n.g2)("van-stepper");return(0,n.uX)(),(0,n.CE)("div",C,[(0,n.Lk)("div",b,[(0,n.Lk)("img",{src:a.item.pic},null,8,_),(0,n.Lk)("div",x,[(0,n.Lk)("div",A,(0,i.v_)(a.item.title),1),a.item.add?((0,n.uX)(),(0,n.Wv)(l,{key:0,name:"add-o",onClick:t[0]||(t[0]=e=>a.handleAdd(a.item.id))})):((0,n.uX)(),(0,n.Wv)(s,{key:1,modelValue:a.item.num,"onUpdate:modelValue":t[1]||(t[1]=e=>a.item.num=e),onChange:a.handleChange,name:a.item.id},null,8,["modelValue","onChange","name"]))])]),(0,n.Lk)("div",L," ￥"+(0,i.v_)(a.item.price),1)])}var I={props:["item","handleAdd","handleChange"]},y=a(6262);const X=(0,y.A)(I,[["render",E],["__scopeId","data-v-00cc9470"]]);var D=X,F=a(7987),w={props:["index","foodData"],components:{FoodListItem:D,ListItem:F.A},setup(e){let t=(0,v.Kh)({activeIndex:0,items:[],subItem:[]});const a=()=>{let a=[];e.foodData?.items?.forEach(((e,n)=>{a.push({text:e.text}),t.activeIndex===n&&(t.subItem=e.children)})),t.items=a};a();const n=e=>{t.activeIndex=e,a()},i=e=>{t.subItem.forEach(((t,a)=>{t.id===e&&(t.add=!1,t.num+=1)}))};return{...(0,v.QW)(t),navClick:n,handleAdd:i}}};const W=(0,y.A)(w,[["render",p],["__scopeId","data-v-3b4a95ed"]]);var V=W,B=a(5220),Q=a(6278),K=a(4249),j=a(1250),P={components:{Header:h.A,FoodList:V},setup(){let e=(0,Q.Pj)(),t=(0,B.rd)(),a=(0,v.Kh)({title:"鱼拿酸菜鱼",img:"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440",storeData:[]});const i=()=>{j.A.get("/home/getStoreData").then((e=>{console.log(e);const{code:t,storeData:n}=e.data;200==t&&(a.storeData=n)}))},d=t=>{const n=e.state.cartList||[];a.storeData.forEach((e=>{e.data.items?.forEach((e=>{e.children.forEach((e=>{e.num>0&&n.push(e)}))}))})),0!==n.length?(e.commit("ADDCART",n),"buy"===t&&c()):(0,K.y)("请选择商品")},o=()=>{t.push("/cart")},c=()=>{d("buy")};return(0,n.sV)((()=>{i()})),{...(0,v.QW)(a),handleAdd:d,store:e,goCart:o,goBuy:c}}};const U=(0,y.A)(P,[["render",m],["__scopeId","data-v-2f4c732c"]]);var H=U}}]);
//# sourceMappingURL=918.ef57bede.js.map